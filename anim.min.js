(function(t){t.Anim=function(){const t=(t,e,o)=>!t||!t.hasOwnProperty(e)||(t[e]=o),e={linear:t=>t,circ:t=>t<0?0:t>1?1:1-Math.sin(Math.acos(t)),bounce:t=>{for(let e=0,o=1;;e+=o,o/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+o*o},elastic:t=>Math.pow(2,20*(t-.8))*Math.cos(12*t*t-12)/16},o={in:t=>t,out:t=>e=>1-t(1-e),both:t=>e=>e<.5?t(2*e)/2:(2-t(2*(1-e)))/2};this.add=function(t,i){if("update"==t||"add"==t||"number"!=typeof i)return;const n={duration:i,progress:0,started:!1,timing:e.linear,ease:o.in,run:()=>{this.started=!0,this.timeStart=Date.now()}},r={anim:this,timing:(t,i="in")=>(n.timing="function"==typeof t?t:e[t]||e.linear,n.ease=o[i]||o.in,r),for:(t,e)=>(n.object=t,n.property=e,r),from:t=>(n.from=t,r),to:t=>(n.to=t,r),tick:t=>(n.tick=t,r),after:t=>(n.after=t,r),run:()=>(n.started=!0,n.timeStart=Date.now(),r)};return this[t]=n,r},this.update=function(e){let o=!1;for(let i in this){const n=this[i];if("object"!=typeof n)continue;if(!n.started){n.timeStart=e-n.duration*n.progress;continue}if(n.progress=(e-n.timeStart)/n.duration,o=!0,n.progress>=1||isNaN(n.progress)||"number"==typeof n.from&&n.from===n.to){"number"==typeof n.to&&t(n.object,n.property,"function"==typeof n.tick&&n.tick(n.to)||n.to),"function"==typeof n.after&&n.after.call(this),delete this[i];continue}const r="number"==typeof n.from&&"number"==typeof n.to?(n.to-n.from)*n.ease(n.timing)(n.progress)+n.from:n.ease(n.timing)(n.progress);t(n.object,n.property,"function"==typeof n.tick&&n.tick(r)||r)}return o},this.loop=function(){this.update(Date.now()),window.setTimeout(this.loop.bind(this),1e3/60)}}})("undefined"==typeof exports?window:exports);